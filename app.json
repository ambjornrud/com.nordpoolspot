{
  "id": "com.nordpoolspot",
  "version": "0.3.1",
  "compatibility": ">=1.5.0",
  "sdk": 2,
  "name": {
    "en": "Nordpool"
  },
  "tags": {
    "en": [
      "nordpool",
      "elspot",
      "prices"
    ],
    "no": [
      "nordpool",
      "kraftbørs",
      "strømbørs",
      "spot",
      "strøm",
      "priser"
    ]
  },
  "description": {
    "en": "Nordpool Elspot Prices",
    "no": "Spotpris fra Nordpool strømbørs"
  },
  "category": [
    "tools"
  ],
  "permissions": [],
  "images": {
    "large": "/assets/images/large.png",
    "small": "/assets/images/small.png"
  },
  "author": {
    "name": "Ambjornrud",
    "email": "post@ambjornrud.no"
  },
  "contributors": {
    "developers": [
      {
        "name": "Bjørnar Almli",
        "email": "bjornar.almli@gmail.com"
      },
      {
        "name": "Even Ambjørnrud",
        "email": "even@ambjornrud.no"
      }
    ]
  },
  "capabilities": {
    "price": {
      "type": "number",
      "title": {
        "en": "Current price/kWh",
        "no": "Gjeldende pris/kWh"
      },
      "getable": true,
      "setable": false,
      "units": {
        "en": "-"
      }
    }
  },
  "drivers": [
    {
      "id": "Nordpool",
      "name": {
        "en": "Nordpool"
      },
      "mobile": {
        "components": [
          {
            "id": "icon",
            "capabilities": []
          },
          {
            "id": "sensor",
            "options": {
              "icons": {
                "price": "/drivers/Nordpool/assets/dollar.svg"
              }
            },
            "capabilities": [
              "price"
            ]
          }
        ]
      },
      "capabilities": [
        "price"
      ],
      "capabilitiesOptions": {
        "price": {
          "preventInsights": true
        }
      },
      "class": "other",
      "settings": [
        {
          "type": "group",
          "label": {
            "en": "General settings",
            "no": "Generelle innstillinger"
          },
          "children": [
            {
              "id": "priceArea",
              "type": "dropdown",
              "label": {
                "en": "Price area",
                "no": "Prisområde"
              },
              "value": "Oslo",
              "values": [
                {
                  "id": "SYS",
                  "label": {
                    "en": "System price (SYS)",
                    "no": "Systempris (SYS)"
                  }
                },
                {
                  "id": "SE1",
                  "label": {
                    "en": "Sweden (SE1)",
                    "no": "Sverige (SE1)"
                  }
                },
                {
                  "id": "SE2",
                  "label": {
                    "en": "Sweden (SE2)",
                    "no": "Sverige (SE2)"
                  }
                },
                {
                  "id": "SE3",
                  "label": {
                    "en": "Sweden (SE3)",
                    "no": "Sverige (SE3)"
                  }
                },
                {
                  "id": "SE4",
                  "label": {
                    "en": "Sweden (SE4)",
                    "no": "Sverige (SE4)"
                  }
                },
                {
                  "id": "DK1",
                  "label": {
                    "en": "Denmark (DK1)",
                    "no": "Danmark (DK1)"
                  }
                },
                {
                  "id": "DK2",
                  "label": {
                    "en": "Denmark (DK2)",
                    "no": "Danmark (DK2)"
                  }
                },
                {
                  "id": "FI",
                  "label": {
                    "en": "Finland (FI)",
                    "no": "Finland (FI)"
                  }
                },
                {
                  "id": "Oslo",
                  "label": {
                    "en": "Norway East (NO1 / Oslo)",
                    "no": "Norge øst (NO1 / Oslo)"
                  }
                },
                {
                  "id": "Kr.sand",
                  "label": {
                    "en": "Norway South-west (NO2 / Kristiansand)",
                    "no": "Norge sørvest (NO2 / Kristiansand)"
                  }
                },
                {
                  "id": "Bergen",
                  "label": {
                    "en": "Norway West (NO5 / Bergen)",
                    "no": "Norge vest (NO5 / Bergen)"
                  }
                },
                {
                  "id": "Molde",
                  "label": {
                    "en": "Norway Middle (NO3 / Molde)",
                    "no": "Norge midt (NO3 / Molde)"
                  }
                },
                {
                  "id": "Tr.heim",
                  "label": {
                    "en": "Norway Middle (NO3 / Trondheim)",
                    "no": "Norge midt (NO3 / Trondheim)"
                  }
                },
                {
                  "id": "Tromsø",
                  "label": {
                    "en": "Norway North (NO4 / Tromsø)",
                    "no": "Norge nord (NO4 / Tromsø)"
                  }
                },
                {
                  "id": "EE",
                  "label": {
                    "en": "Estonia (EE)",
                    "no": "Estland (EE)"
                  }
                },
                {
                  "id": "LV",
                  "label": {
                    "en": "Latvia (LV)",
                    "no": "Latvia (LV)"
                  }
                },
                {
                  "id": "LT",
                  "label": {
                    "en": "Lithuania (LT)",
                    "no": "Litauen (LT)"
                  }
                },
                {
                  "id": "AT",
                  "label": {
                    "en": "Austria (AT)",
                    "no": "Østerrike (AT)"
                  }
                },
                {
                  "id": "BE",
                  "label": {
                    "en": "Belgium (BE)",
                    "no": "Belgia (BE)"
                  }
                },
                {
                  "id": "DE-LU",
                  "label": {
                    "en": "Germany and Luxembourg (DE-LU)",
                    "no": "Tyskland og Luxemburg (DE-LU)"
                  }
                },
                {
                  "id": "FR",
                  "label": {
                    "en": "France (FR)",
                    "no": "Frankrike (FR)"
                  }
                },
                {
                  "id": "NL",
                  "label": {
                    "en": "Netherlands (NL)",
                    "no": "Nederland (NL)"
                  }
                },
                {
                  "id": "PL",
                  "label": {
                    "en": "Poland (PL)",
                    "no": "Polen (PL)"
                  }
                },
                {
                  "id": "UK",
                  "label": {
                    "en": "United Kingdom (UK)",
                    "no": "Storbritannia (UK)"
                  }
                }
              ]
            },
            {
              "id": "currency",
              "type": "dropdown",
              "label": {
                "en": "Currency",
                "no": "Valuta"
              },
              "value": "EUR",
              "values": [
                {
                  "id": "EUR",
                  "label": {
                    "en": "EUR"
                  }
                },
                {
                  "id": "DKK",
                  "label": {
                    "en": "DKK"
                  }
                },
                {
                  "id": "NOK",
                  "label": {
                    "en": "NOK"
                  }
                },
                {
                  "id": "SEK",
                  "label": {
                    "en": "SEK"
                  }
                },
                {
                  "id": "GBP",
                  "label": {
                    "en": "GBP"
                  }
                }
              ]
            }
          ]
        }
      ],
      "pair": [
        {
          "id": "list_devices",
          "template": "list_devices",
          "navigation": {
            "next": "add_my_devices"
          }
        },
        {
          "id": "add_my_devices",
          "template": "add_devices"
        }
      ],
      "images": {
        "large": "/drivers/Nordpool/assets/images/large.png",
        "small": "/drivers/Nordpool/assets/images/small.png"
      }
    }
  ],
  "flow": {
    "triggers": [
      {
        "id": "price_changed",
        "title": {
          "en": "Price changed",
          "no": "Prisendring"
        },
        "tokens": [
          {
            "name": "price",
            "type": "number",
            "title": {
              "en": "price",
              "no": "pris"
            }
          },
          {
            "name": "priceArea",
            "type": "string",
            "title": {
              "en": "price area",
              "no": "prisområde"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          }
        ]
      },
      {
        "id": "price_below_avg",
        "title": {
          "en": "Current price is [x] percent below average of the next [y] hours",
          "no": "Gjeldende pris er [x] prosent under gjennomsnittet av de neste [y] timer"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          },
          {
            "name": "percentage",
            "type": "number",
            "placeholder": {
              "en": "percentage",
              "no": "prosentdel"
            }
          },
          {
            "name": "hours",
            "type": "number",
            "placeholder": {
              "en": "hours",
              "no": "timer"
            }
          }
        ]
      },
      {
        "id": "price_above_avg",
        "title": {
          "en": "Current price is [x] percent above average of the next [y] hours",
          "no": "Gjeldende pris er [x] prosent over gjennomsnittet av de neste [y] timer"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          },
          {
            "name": "percentage",
            "type": "number",
            "placeholder": {
              "en": "percentage",
              "no": "prosentdel"
            }
          },
          {
            "name": "hours",
            "type": "number",
            "placeholder": {
              "en": "hours",
              "no": "timer"
            }
          }
        ]
      },
      {
        "id": "price_at_lowest",
        "title": {
          "en": "Current price is at the lowest among the next [x] hours",
          "no": "Gjeldende pris er på det laveste i de neste [x] timer"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          },
          {
            "name": "hours",
            "type": "number",
            "placeholder": {
              "en": "hours",
              "no": "timer"
            }
          }
        ]
      },
      {
        "id": "price_at_highest",
        "title": {
          "en": "Current price is at the highest among the next [x] hours",
          "no": "Gjeldende pris er på det høyeste i de neste [x] timer"
        },
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          },
          {
            "name": "hours",
            "type": "number",
            "placeholder": {
              "en": "hours",
              "no": "timer"
            }
          }
        ]
      },
      {
        "id": "low_x_of_y_hours",
        "title": {
          "en": "Low price [x] of the [y] hours starting at [z] hours today",
          "no": "Billigste pris i [x] av [y] timer etter klokken [z] i dag"
        },
        "tokens": [
          {
            "name": "onoff",
            "type": "boolean",
            "title": {
              "en": "onoff",
              "no": "avpå"
            }
          }
        ],
        "args": [
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          },
          {
            "name": "low_hours",
            "type": "number",
            "placeholder": {
              "en": "low_hours",
              "no": "billigste_timer"
            }
          },
          {
            "name": "num_hours",
            "type": "number",
            "placeholder": {
              "en": "num_hours",
              "no": "antall_timer"
            }
          },
          {
            "name": "starting_hour",
            "type": "number",
            "placeholder": {
              "en": "starting_hour",
              "no": "etter_klokken"
            }
          }
        ]
      }
    ],
    "conditions": [
      {
        "id": "current_price_below",
        "title": {
          "en": "Current price !{{below|above}}",
          "no": "Gjeldende pris !{{under|over}}"
        },
        "args": [
          {
            "name": "price",
            "type": "number",
            "placeholder": {
              "en": "price",
              "no": "pris"
            }
          },
          {
            "name": "device",
            "type": "device",
            "filter": "driver_id=Nordpool"
          }
        ]
      }
    ]
  }
}